(()=>{var t,e={342:(t,e,i)=>{"use strict";i(35)},35:()=>{class t extends HTMLElement{constructor(){super(),this.isDragging=!1,this.hideClass="optml-vp-hide",this.opacityZeroClass="optml-vp-opacity-0",this.icons={play:"optml-play-icon",pause:"optml-pause-icon",volumeHigh:"optml-volume-high-icon",volumeLow:"optml-volume-low-icon",volumeMute:"optml-volume-mute-icon",maximize:"optml-maximize-icon",minimize:"optml-minimize-icon",spinner:"optml-loader-icon"},this.strings={play:OMVideoPlayerBlock.play,pause:OMVideoPlayerBlock.pause,mute:OMVideoPlayerBlock.mute,unmute:OMVideoPlayerBlock.unmute,fullscreen:OMVideoPlayerBlock.fullscreen,exitFullscreen:OMVideoPlayerBlock.exitFullscreen},this._eventCleanupFunction=null}static get observedAttributes(){return["video-src","primary-color","loop","hide-controls"]}attributeChangedCallback(t,e,i){"video-src"===t&&i&&(this.videoSrc=i),"primary-color"===t&&i&&(this.primaryColor=i),"loop"===t&&i&&(this.loop=i),"hide-controls"===t&&i&&(this.hideControls=i),this.isConnected&&(console.log("attributeChangedCallback"),this.render(),this.setupEventListeners())}connectedCallback(){this.render(),this.setupEventListeners()}disconnectedCallback(){this._eventCleanupFunction&&this._eventCleanupFunction()}render(){this.innerHTML=`\n        <div class="optml-player-container">\n\t\t\t\t\t<video src="${this.videoSrc}" class="optml-video ${this.hideClass}"></video>\n          <div class="optml-spinner"><span class="optml-ic">${this.getIcon(this.icons.spinner)}</span></div>\n          <button class="optml-video-lg-play ${this.hideClass}" aria-label="${this.strings.play}">${this.getIcon(this.icons.play)}</button>\n\t\t\t\t\t<div class="optml-controls ${"true"===this.hideControls?this.hideClass:""}">\n\t\t\t\t\t\t<button class="optml-play-pause" aria-label="${this.strings.play}">${this.getIcon(this.icons.play)}</button>\n\t\t\t\t\t\t<div class="optml-progress-container">\n\t\t\t\t\t\t\t<div class="optml-progress-bar"></div>\n\t\t\t\t\t\t\t<div class="optml-scrubber"></div>\n\t\t\t\t\t\t\t<div class="optml-time-tooltip">0:00</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="optml-time-display">0:00 / 0:00</div>\n\t\t\t\t\t\t<div class="optml-volume-container">\n\t\t\t\t\t\t\t<button class="optml-mute" aria-label="${this.strings.mute}">${this.getIcon(this.icons.volumeHigh)}</button>\n\t\t\t\t\t\t\t<input type="range" class="optml-volume-slider" min="0" max="1" step="0.1" value="1">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class="optml-fullscreen" aria-label="${this.strings.fullscreen}">${this.getIcon(this.icons.maximize)}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t`}setupEventListeners(){const t=this.querySelector(".optml-player-container"),e=this.querySelector(".optml-video"),i=this.querySelector(".optml-play-pause"),s=this.querySelector(".optml-video-lg-play"),n=this.querySelector(".optml-video-lg-play svg"),o=this.querySelector(".optml-progress-container"),r=this.querySelector(".optml-progress-bar"),l=this.querySelector(".optml-scrubber"),a=this.querySelector(".optml-time-display"),u=this.querySelector(".optml-time-tooltip"),c=this.querySelector(".optml-mute"),m=this.querySelector(".optml-volume-slider"),d=this.querySelector(".optml-fullscreen"),p=this.querySelector(".optml-spinner");this.loop&&"true"===this.loop&&(e.loop=!0);const h=t=>{this.isDragging&&this.updateScrubberPosition(t.clientX)},v=t=>{if(this.isDragging){const i=this.updateScrubberPosition(t.clientX);e.currentTime=i*e.duration,this.wasPlaying&&e.play(),this.isDragging=!1}document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",v)},g=()=>{e.paused?e.play():e.pause()},y=()=>{document.fullscreenElement?document.exitFullscreen():t.requestFullscreen()},b=()=>{n.classList.add(this.opacityZeroClass),i.innerHTML=this.getIcon(this.icons.pause),i.setAttribute("aria-label",this.strings.pause),s.setAttribute("aria-label",this.strings.pause)},L=()=>{n.classList.remove(this.opacityZeroClass),i.innerHTML=this.getIcon(this.icons.play),i.setAttribute("aria-label",this.strings.play),s.setAttribute("aria-label",this.strings.play)},f=()=>{p.classList.add(this.hideClass),s.classList.remove(this.hideClass),e.classList.remove(this.hideClass)},E=()=>{if(!this.isDragging){const t=e.currentTime/e.duration*100;r.style.width=`${t}%`,l.style.left=`${t}%`;const i=Math.floor(e.currentTime/60),s=Math.floor(e.currentTime%60),n=Math.floor(e.duration/60),o=Math.floor(e.duration%60);a.textContent=`${i}:${s.toString().padStart(2,"0")} / ${n}:${o.toString().padStart(2,"0")}`}},C=t=>{if(this.isDragging)return;const i=o.getBoundingClientRect(),s=(t.clientX-i.left)/i.width*e.duration;u.textContent=this.formatTime(s),u.style.left=t.clientX-i.left+"px"},S=t=>{this.isDragging=!0,this.updateScrubberPosition(t.clientX),this.wasPlaying=!e.paused,e.pause(),document.addEventListener("mousemove",h),document.addEventListener("mouseup",v)},M=t=>{this.isDragging=!0,t.stopPropagation(),this.wasPlaying=!e.paused,e.pause(),document.addEventListener("mousemove",h),document.addEventListener("mouseup",v)},k=()=>{document.fullscreenElement?(d.innerHTML=this.getIcon(this.icons.minimize),d.setAttribute("aria-label",this.strings.exitFullscreen)):(d.innerHTML=this.getIcon(this.icons.maximize),d.setAttribute("aria-label",this.strings.fullscreen))},$=()=>{e.muted||0===e.volume?(c.innerHTML=this.getIcon(this.icons.volumeMute),c.setAttribute("aria-label",this.strings.unmute)):.5>e.volume?(c.innerHTML=this.getIcon(this.icons.volumeLow),c.setAttribute("aria-label",this.strings.mute)):(c.innerHTML=this.getIcon(this.icons.volumeHigh),c.setAttribute("aria-label",this.strings.mute))},q=()=>{e.muted=!e.muted,$(),m.value=e.muted?0:e.volume},w=()=>{e.volume=m.value,e.muted=0===e.volume,$()};i.addEventListener("click",g),s.addEventListener("click",g),e.addEventListener("play",b),e.addEventListener("pause",L),e.addEventListener("loadedmetadata",f),e.addEventListener("timeupdate",E),o.addEventListener("mousemove",C),o.addEventListener("mousedown",S),l.addEventListener("mousedown",M),s.addEventListener("dblclick",y),d.addEventListener("click",y),document.addEventListener("fullscreenchange",k),c.addEventListener("click",q),m.addEventListener("input",w),this._eventCleanupFunction=()=>{console.log("cleanup for event listeners"),i.removeEventListener("click",g),s.removeEventListener("click",g),e.removeEventListener("play",b),e.removeEventListener("pause",L),e.removeEventListener("loadedmetadata",f),e.removeEventListener("timeupdate",E),o.removeEventListener("mousemove",C),o.removeEventListener("mousedown",S),l.removeEventListener("mousedown",M),s.removeEventListener("dblclick",y),d.removeEventListener("click",y),document.removeEventListener("fullscreenchange",k),c.removeEventListener("click",q),m.removeEventListener("input",w)}}getIcon(t){return`<svg><use href="#${t}"></use></svg>`}formatTime(t){return`${Math.floor(t/60)}:${Math.floor(t%60).toString().padStart(2,"0")}`}updateScrubberPosition(t){const e=this.querySelector(".optml-progress-container"),i=this.querySelector(".optml-progress-bar"),s=this.querySelector(".optml-scrubber"),n=this.querySelector(".optml-time-tooltip"),o=this.querySelector(".optml-video"),r=e.getBoundingClientRect();let l=(t-r.left)/r.width;return l=Math.max(0,Math.min(1,l)),i.style.width=100*l+"%",s.style.left=100*l+"%",n.textContent=this.formatTime(l*o.duration),n.style.left=l*r.width+"px",l}}customElements.define("optimole-video-player",t)}},i={};function s(t){var n=i[t];if(void 0!==n)return n.exports;var o=i[t]={exports:{}};return e[t](o,o.exports,s),o.exports}s.m=e,t=[],s.O=(e,i,n,o)=>{if(!i){var r=1/0;for(c=0;c<t.length;c++){for(var[i,n,o]=t[c],l=!0,a=0;a<i.length;a++)(!1&o||r>=o)&&Object.keys(s.O).every((t=>s.O[t](i[a])))?i.splice(a--,1):(l=!1,o<r&&(r=o));if(l){t.splice(c--,1);var u=n();void 0!==u&&(e=u)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[i,n,o]},s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={495:0,383:0};s.O.j=e=>0===t[e];var e=(e,i)=>{var n,o,[r,l,a]=i,u=0;if(r.some((e=>0!==t[e]))){for(n in l)s.o(l,n)&&(s.m[n]=l[n]);if(a)var c=a(s)}for(e&&e(i);u<r.length;u++)o=r[u],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(c)},i=globalThis.webpackChunkoptimole_wp=globalThis.webpackChunkoptimole_wp||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var n=s.O(void 0,[383],(()=>s(342)));n=s.O(n)})();